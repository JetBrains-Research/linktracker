<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_231) on Wed Jun 03 21:34:35 CEST 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ImperativeCommand (jetCheck 0.2.1 API)</title>
<meta name="date" content="2020-06-03">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ImperativeCommand (jetCheck 0.2.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../org/jetbrains/jetCheck/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImperativeCommand.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jetbrains/jetCheck/Generator.html" title="class in org.jetbrains.jetCheck"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html" title="interface in org.jetbrains.jetCheck"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jetbrains/jetCheck/ImperativeCommand.html" target="_top">Frames</a></li>
<li><a href="ImperativeCommand.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jetbrains.jetCheck</div>
<h2 title="Interface ImperativeCommand" class="title">Interface ImperativeCommand</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">ImperativeCommand</span></pre>
<div class="block">Represents an action with potential side effects, for single-threaded property-based testing of stateful systems.
 The engine executes a top-level command, which should prepare the system-under-test and run the sequence of nested (actual) commands
 that change the system, check the needed invariants, and log all activity to allow to reproduce failing scenarios.<p></p>
 
 A typical way to test with imperative commands looks like this:
 <pre>
   PropertyChecker.checkScenarios(() -&gt; env -&gt; {
     System sys = setUpSystem();
     try {
       // run a random sequence of commands
       env.performCommands(Generator.sampledFrom(new Command1(sys), new Command2(sys), ...))
       assertPropertyHolds(sys); // optional; fail with an exception if some invariant is broken 
     } finally {
       tearDownSystem(); // if any resources should be freed
     }
   })
   ...
   class Command1 implements ImperativeCommand {
     System sys;
     Command1(System sys) {
       this.sys = sys;
     }
     
     public void performCommand(Environment env) {
       env.logMessage("Performing command1");
       // do some actions on 'sys' using environment to generate random data (and log it) on the way, e.g.:
       Item item = env.generateData(Generator.sampledFrom(sys.currentItems), "working on %s item");
       modifyItemInTheSystem(sys, item); // may change the system and the items within it
     }
   }
   ...
 </pre>
 
 If any command fails with an exception, the property being checked is considered to be falsified and the test fails.
 In the error message, the causing exception is printed together with command log.
 Commands can and should log what they're doing using
 <a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html#logMessage-java.lang.String-"><code>ImperativeCommand.Environment.logMessage(String)</code></a> and <a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html#generateValue-org.jetbrains.jetCheck.Generator-java.lang.String-"><code>ImperativeCommand.Environment.generateValue(Generator, String)</code></a> so that you
 can restore the order of events that leads to the failure.<p></p>
 
 Top-level command should not have any side effects on the outside world, 
 otherwise proper test case separation and shrinking will be impossible.
 The supplier that creates the top-level command should 
 return a "fresh" object each time, as it's invoked on each testing and shrinking iterations.
 Nested commands may have side effects, provided that those effects are fully contained within the system-under-test, 
 which is set up and disposed inside the top-level command on each iteration.<p></p>
 
 Test case shrinking is complicated, when commands make random choices based on the current state of the system
 (which can change even after removing irrelevant commands during shrinking).
 The engine tries to account for that heuristically. <b>Rule of thumb</b>: whenever your command generates an index into some list,
 or uses <a href="../../../org/jetbrains/jetCheck/Generator.html#sampledFrom-T...-"><code>Generator.sampledFrom(T...)</code></a> on system elements, try to ensure that these elements have some predictable ordering.
 It's ideal if each command effect on these elements is either adding or removing a contiguous range in that list.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html" title="interface in org.jetbrains.jetCheck">ImperativeCommand.Environment</a></span></code>
<div class="block">A helper object passed into <a href="../../../org/jetbrains/jetCheck/ImperativeCommand.html#performCommand-org.jetbrains.jetCheck.ImperativeCommand.Environment-"><code>performCommand(org.jetbrains.jetCheck.ImperativeCommand.Environment)</code></a> to allow for logging and ad hoc random data generation</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/jetbrains/jetCheck/ImperativeCommand.html#performCommand-org.jetbrains.jetCheck.ImperativeCommand.Environment-">performCommand</a></span>(<a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html" title="interface in org.jetbrains.jetCheck">ImperativeCommand.Environment</a>&nbsp;env)</code>
<div class="block">Perform the actual change on the system-under-test, using <code>env</code> to generate random data and log the progress</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="performCommand-org.jetbrains.jetCheck.ImperativeCommand.Environment-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>performCommand</h4>
<pre>void&nbsp;performCommand(@NotNull
                    <a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html" title="interface in org.jetbrains.jetCheck">ImperativeCommand.Environment</a>&nbsp;env)</pre>
<div class="block">Perform the actual change on the system-under-test, using <code>env</code> to generate random data and log the progress</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../org/jetbrains/jetCheck/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImperativeCommand.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jetbrains/jetCheck/Generator.html" title="class in org.jetbrains.jetCheck"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/jetbrains/jetCheck/ImperativeCommand.Environment.html" title="interface in org.jetbrains.jetCheck"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jetbrains/jetCheck/ImperativeCommand.html" target="_top">Frames</a></li>
<li><a href="ImperativeCommand.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</body>
</html>
